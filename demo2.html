<!DOCTYPE html>
<html>
<head>
	<title>Chainwork demo2</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.3.1/lodash.js"></script>
    <script src="chainwork.js"></script>
</head>
<body>
hi
<button onclick="chain.play();">run chain</button>

<script>
    components.test = {
        name: 'test',
        settings: {
            delay: 1000
        },
        job: function() {
            var self = this;
            setTimeout(function() {
                console.log('test component');
                self.parent.componentDone();
            }, this.settings.delay);
        }
    };

var chain = new ChainWork()
    .add('test', {delay: 500})
    .par('test')
    .par('test')
    .call(function() {
        console.log('the end');
    });

chain.play();

</script>

<script>
	// var chain = new ChainWork({autoPlay: true});
 //        chain.add('facebookInit' { appId: '704596572931399'})
 //        chain.add('pause')
 //        chain.add('collectForm', {
	// 		formElement: 'userInfo',
	// 		onError: function() {
	// 		  //pass
	// 		}
 //        })
 //        chain.add('firebaseSave', {
 //            dataRefUrl: 'https://pipartbwa.firebaseio.com/',
 //            prefix: 'floridanaTop10',
 //       	})
 //        chain.call(function() {
 //            $('.w-form').hide();
 //            $('#confirmation').show();
 //        });
 //        chain.pause({delay: 3000});
 //        chain.add({
 //            componentName: 'fbFeed',
 //            settings: {
 //                params: {
 //                    method: 'feed',
 //                    name: 'Sumarleikur Floridana',
 //                    caption: 'Floridana',
 //                    link: 'http://smarturl.it/sumarleikur',
 //                    picture: 'https://apps.tweecode.com/custom/floridanasumar/images/feed.jpg',
 //                    description: 'Í sumar tökum við saman topp 10 lista yfir bestu bæjarhátíðir, sundlaugar, gönguleiðir, túruparadísir og tjaldstæði landsins. Hjálpaðu okkur að velja listann með því að koma tilnefningum þínum á framfæri. Þátttakendur geta átt von á safaglaðning en dregið verður í allt sumar!',
 //                },
 //                onPublished: function() {},
 //                onDeclined: function() {},
 //                forceRun: true
 //            }
 //        });


</script>
</body>
</html>